#!/usr/bin/python
import os,sys,re

filein=os.path.abspath('/Users/josec/Desktop/skrad/ipyrad/skrad_all_85_100/skrad_rubi_85_20_outfiles/skrad_rubi_85_20.phy.treefile')








filename=os.path.basename(filein)
pwd=os.path.dirname(filein)
rfilename="r_"+filename

codex="""Sample,
b_128016,b_128016_out
i_29278,i_29278_out
f_84858,f_84858_out
f_30210,f_30210_intermedius
p_30853,p_30853_intermedius
p_30912,p_30912_intermedius
f_60739,f_60739_intermedius
r_82434,r_82434_intermedius
r_128446,r_128446_intermedius
u_132000,u_132000_intermedius
i_105816,i_105816_out
b_103729,b_103729_iso_EJ
b_123594,b_123594_iso_EJ
b_123595,b_123595_iso_EJ
b_127954,b_127954_iso_EJ
b_127955,b_127955_iso_EJ
i_128017,i_128017_iso_EJ
i_128041,i_128041_iso_EJ
i_128073,i_128073_iso_EJ
i_128083,i_128083_iso_EJ
i_128123,i_128123_iso_EJ
i_128135,i_128135_iso_EJ
i_128143,i_128143_iso_EJ
i_128148,i_128148_iso_EJ
i_128188,i_128188_iso_EJ
i_128189,i_128189_iso_EJ
i_128213,i_128213_iso_EJ
i_128219,i_128219_iso_EJ
i_128232,i_128232_iso_EJ
i_128239,i_128239_iso_EJ
i_128242,i_128242_iso_EJ
i_128249,i_128249_iso_EJ
i_128255,i_128255_iso_EJ
i_128269,i_128269_iso_EJ
i_128296,i_128296_iso_EJ
i_128302,i_128302_iso_EJ
i_128303,i_128303_iso_EJ
i_128308,i_128308_iso_EJ
i_84356,i_84356_iso_KL
i_128023,i_128023_iso_KL
i_128070,i_128070_iso_KL
i_128076,i_128076_iso_KL
i_128078,i_128078_iso_KL
i_128082,i_128082_iso_KL
i_128089,i_128089_iso_KL
i_128090,i_128090_iso_KL
i_128098,i_128098_iso_KL
i_128103,i_128103_iso_KL
i_128105,i_128105_iso_KL
i_128109,i_128109_iso_KL
i_128110,i_128110_iso_KL
i_128178,i_128178_iso_KL
i_128179,i_128179_iso_KL
i_128252,i_128252_iso_KL
f_103726,f_103726_musivus
f_103727,f_103727_musivus
p_41685,p_41685_pallidus
p_58516,p_58516_pallidus
f_84370,f_84370_pallidus
f_84371,f_84371_pallidus
f_84373,f_84373_pallidus
f_84375,f_84375_pallidus
f_84377,f_84377_pallidus
f_109274,f_109274_pallidus
f_109275,f_109275_pallidus
f_109276,f_109276_pallidus
f_109278,f_109278_pallidus
f_109279,f_109279_pallidus
f_109280,f_109280_pallidus
f_109284,f_109284_pallidus
f_109285,f_109285_pallidus
f_109286,f_109286_pallidus
r_128130,r_128130_pallidus
p_128300,p_128300_pallidus
p_131999,p_131999_pallidus
p_132004,p_132004_pallidus
p_132005,p_132005_pallidus
p_132006,p_132006_pallidus
p_132010,p_132010_pallidus
p_13167,p_13167_phantasmus
p_13896,p_13896_phantasmus
p_22313,p_22313_phantasmus
f_23805,f_23805_phantasmus
f_28734,f_28734_phantasmus
p_30911,p_30911_phantasmus
p_33341,p_33341_phantasmus
p_35472,p_35472_phantasmus
p_35597,p_35597_phantasmus
p_36325,p_36325_phantasmus
p_36636,p_36636_phantasmus
p_38507,p_38507_phantasmus
p_58017,p_58017_phantasmus
p_79612,p_79612_phantasmus
r_42318,r_42318_r_central
r_59619,r_59619_r_central
r_59646,r_59646_r_central
r_64176,r_64176_r_central
r_94317,r_94317_r_central
r_95335,r_95335_r_central
r_95344,r_95344_r_central
r_96021,r_96021_r_central
r_96066,r_96066_r_central
r_104397,r_104397_r_central
r_913,r_913_r_eastern
r_9008,r_9008_r_eastern
r_9009,r_9009_r_eastern
r_9092,r_9092_r_eastern
r_16148,r_16148_r_eastern
r_36319,r_36319_r_eastern
r_37566,r_37566_r_eastern
r_42378,r_42378_r_eastern
r_42430,r_42430_r_eastern
r_84967,r_84967_r_eastern
r_84970,r_84970_r_eastern
r_84971,r_84971_r_eastern
r_94159,r_94159_r_eastern
r_94319,r_94319_r_eastern
r_94438,r_94438_r_eastern
r_15029,r_15029_r_western
r_15065,r_15065_r_western
r_15068,r_15068_r_western
r_54057,r_54057_r_western
r_82539,r_82539_r_western
r_84358,r_84358_r_western
r_84361,r_84361_r_western
r_84362,r_84362_r_western
r_84365,r_84365_r_western
r_128025,r_128025_r_western
r_128190,r_128190_r_western
r_132002,r_132002_r_western
r_132003,r_132003_r_western
r_132007,r_132007_r_western
r_132009,r_132009_r_western
u_84390,u_84390_rubiginosis
r_128020,r_128020_rubiginosis
r_128061,r_128061_rubiginosis
r_128062,r_128062_rubiginosis
r_128064,r_128064_rubiginosis
u_128081,u_128081_rubiginosis
p_128086,p_128086_rubiginosis
r_128093,r_128093_rubiginosis
r_128099,r_128099_rubiginosis
r_128108,r_128108_rubiginosis
p_128132,p_128132_rubiginosis
p_128152,p_128152_rubiginosis
p_128156,p_128156_rubiginosis
p_128169,p_128169_rubiginosis
r_128187,r_128187_rubiginosis
r_128191,r_128191_rubiginosis
p_128196,p_128196_rubiginosis
p_128197,p_128197_rubiginosis
p_128253,p_128253_rubiginosis
p_132008,p_132008_rubiginosis
u_21460,u_21460_Unknown
p_22250,p_22250_Unknown
f_30253,f_30253_Unknown
r_36298,r_36298_Unknown
i_84347,i_84347_Unknown
i_84348,i_84348_Unknown
r_84363,r_84363_Unknown
f_84367,f_84367_Unknown
f_84368,f_84368_Unknown
f_84369,f_84369_Unknown
u_84378,u_84378_Unknown
i_99698,i_99698_Unknown
u_103721,u_103721_Unknown
r_104398,r_104398_Unknown
f_109281,f_109281_Unknown
f_109282,f_109282_Unknown
f_109283,f_109283_Unknown
f_109287,f_109287_Unknown
p_128026,p_128026_Unknown
p_128102,p_128102_Unknown
r_128131,r_128131_Unknown
p_128151,p_128151_Unknown
p_128155,p_128155_Unknown
r_128168,r_128168_Unknown
u_128170,u_128170_Unknown
p_128195,p_128195_Unknown
i_128215,i_128215_Unknown
i_128247,i_128247_Unknown
i_128267,i_128267_Unknown
p_128301,p_128301_Unknown
r_128445,r_128445_Unknown
r_132001,r_132001_Unknown"""
clist=codex.split('\n')
codexdict={}
for c in clist:
    pair=c.split(',')
    codexdict[pair[0]]=pair[1]

with open(filein,'r') as filein:
    with open(os.path.join(pwd,rfilename),'w') as fileout:
        instring=filein.read()
        # fileout.write(instring)
        for key in codexdict:
            instring=instring.replace(key,codexdict[key])
        # fileout.write("\n\n\n")
        instring=instring.replace("CHANGE","")
        fileout.write(instring)
print("done")
